function a0_0x31cf(_0x1062d3,_0x9ab922){const _0xfae189=a0_0xfae1();return a0_0x31cf=function(_0x31cf7d,_0x2d7875){_0x31cf7d=_0x31cf7d-0x6a;let _0x11b787=_0xfae189[_0x31cf7d];return _0x11b787;},a0_0x31cf(_0x1062d3,_0x9ab922);}const a0_0x30c58a=a0_0x31cf;(function(_0x2b55b6,_0x2f76f7){const _0x9df97f=a0_0x31cf,_0x450eda=_0x2b55b6();while(!![]){try{const _0x84561c=-parseInt(_0x9df97f(0x9c))/0x1+-parseInt(_0x9df97f(0xb8))/0x2*(-parseInt(_0x9df97f(0x72))/0x3)+-parseInt(_0x9df97f(0xcf))/0x4*(-parseInt(_0x9df97f(0x97))/0x5)+-parseInt(_0x9df97f(0x9b))/0x6*(-parseInt(_0x9df97f(0x90))/0x7)+-parseInt(_0x9df97f(0xa7))/0x8*(parseInt(_0x9df97f(0xec))/0x9)+parseInt(_0x9df97f(0x7e))/0xa*(-parseInt(_0x9df97f(0xe4))/0xb)+-parseInt(_0x9df97f(0xe9))/0xc;if(_0x84561c===_0x2f76f7)break;else _0x450eda['push'](_0x450eda['shift']());}catch(_0x402c77){_0x450eda['push'](_0x450eda['shift']());}}}(a0_0xfae1,0x4f877));const {default:axios}=require(a0_0x30c58a(0xf2)),logger=require(a0_0x30c58a(0xa3)),headers=require(a0_0x30c58a(0x73)),{Api}=require('telegram'),{SocksProxyAgent}=require('socks-proxy-agent'),settings=require(a0_0x30c58a(0x83)),app=require('../config/app'),user_agents=require(a0_0x30c58a(0x78)),fs=require('fs'),sleep=require(a0_0x30c58a(0xe5)),ApiRequest=require(a0_0x30c58a(0x86)),parser=require(a0_0x30c58a(0xb4)),_=require('lodash'),moment=require(a0_0x30c58a(0xb2));class Tapper{constructor(_0x52b12d){const _0x4c83c5=a0_0x30c58a;this[_0x4c83c5(0xbc)]=_0x52b12d[_0x4c83c5(0xbc)],this['tg_client']=_0x52b12d[_0x4c83c5(0x7d)],this[_0x4c83c5(0xef)]=app[_0x4c83c5(0x9a)],this[_0x4c83c5(0x71)]=this.#load_session_data(),this[_0x4c83c5(0xcd)]={...headers,'user-agent':this.#get_user_agent()},this[_0x4c83c5(0x75)]=new ApiRequest(this['session_name']),this[_0x4c83c5(0xea)]=_0x4c83c5(0x77),this[_0x4c83c5(0xb5)]=_0x4c83c5(0xdd),this[_0x4c83c5(0xd7)]=_0x4c83c5(0x94);}#load_session_data(){const _0xe55a54=a0_0x30c58a;try{const _0x51ae23=fs[_0xe55a54(0x76)](_0xe55a54(0xbe),'utf8');return JSON['parse'](_0x51ae23);}catch(_0x4a76f1){if(_0x4a76f1['code']===_0xe55a54(0x7b))return{};else throw _0x4a76f1;}}#clean_tg_web_data(_0x20255f){const _0x2d436e=a0_0x30c58a;let _0x44fe74=_0x20255f['replace'](/^tgWebAppData=/,'');return _0x44fe74=_0x44fe74[_0x2d436e(0x7a)](/&tgWebAppVersion=7\.4&tgWebAppPlatform=ios$/,'')[_0x2d436e(0x7a)](/&tgWebAppVersion=7\.4&tgWebAppPlatform=android$/,''),_0x44fe74;}#get_random_user_agent(){const _0x54a25d=a0_0x30c58a,_0x17efd7=Math[_0x54a25d(0x74)](Math['random']()*user_agents['length']);return user_agents[_0x17efd7];}#get_user_agent(){const _0x1b0457=a0_0x30c58a;if(this[_0x1b0457(0x71)][this['session_name']])return this['session_user_agents'][this[_0x1b0457(0xbc)]];logger[_0x1b0457(0xf1)](this[_0x1b0457(0xbc)]+_0x1b0457(0x99));const _0x3083a=this.#get_random_user_agent();return this[_0x1b0457(0x71)][this[_0x1b0457(0xbc)]]=_0x3083a,this.#save_session_data(this['session_user_agents']),_0x3083a;}#save_session_data(_0x5cdc3d){const _0x2fb672=a0_0x30c58a;fs['writeFileSync']('session_user_agents.json',JSON[_0x2fb672(0xba)](_0x5cdc3d,null,0x2));}#get_platform(_0x4fbf4e){const _0x4fa534=a0_0x30c58a,_0x3012c4=[{'pattern':/iPhone/i,'platform':_0x4fa534(0xd3)},{'pattern':/Android/i,'platform':_0x4fa534(0xd1)},{'pattern':/iPad/i,'platform':_0x4fa534(0xd3)}];for(const {pattern:_0x5ef336,platform:_0xa95633}of _0x3012c4){if(_0x5ef336[_0x4fa534(0xc1)](_0x4fbf4e))return _0xa95633;}return _0x4fa534(0x9d);}#proxy_agent(_0x38c67b){const _0x1f8a0e=a0_0x30c58a;try{if(!_0x38c67b)return null;let _0x2430ad;return!_0x38c67b[_0x1f8a0e(0xb6)]&&!_0x38c67b['username']?_0x2430ad=_0x1f8a0e(0x88)+_0x38c67b[_0x1f8a0e(0xc9)]+_0x1f8a0e(0xc0)+_0x38c67b['ip']+':'+_0x38c67b[_0x1f8a0e(0xa0)]:_0x2430ad='socks'+_0x38c67b[_0x1f8a0e(0xc9)]+_0x1f8a0e(0xc0)+_0x38c67b[_0x1f8a0e(0xa2)]+':'+_0x38c67b[_0x1f8a0e(0xb6)]+'@'+_0x38c67b['ip']+':'+_0x38c67b[_0x1f8a0e(0xa0)],new SocksProxyAgent(_0x2430ad);}catch(_0x552842){return logger[_0x1f8a0e(0xd0)](this[_0x1f8a0e(0xbc)]+_0x1f8a0e(0xf0)+_0x552842+_0x1f8a0e(0xb9)+JSON[_0x1f8a0e(0xba)](_0x38c67b,null,0x2)),null;}}async #get_tg_web_data(){const _0x4ba2d1=a0_0x30c58a;try{await this[_0x4ba2d1(0x7d)][_0x4ba2d1(0xaa)]();const _0x136e68=this.#get_platform(this.#get_user_agent()),_0x175326=await this[_0x4ba2d1(0x7d)][_0x4ba2d1(0x98)](new Api[(_0x4ba2d1(0x70))]['GetHistory']({'peer':_0x4ba2d1(0xd4),'limit':0x1}));_0x175326['messages'][_0x4ba2d1(0x9e)]<0x1&&await this[_0x4ba2d1(0x7d)]['invoke'](new Api[(_0x4ba2d1(0xe8))][(_0x4ba2d1(0xa8))]({'channel':_0x4ba2d1(0x6e)}));const _0x56d2e4=await this[_0x4ba2d1(0x7d)]['invoke'](new Api[(_0x4ba2d1(0x70))][(_0x4ba2d1(0xa1))]({'peer':await this[_0x4ba2d1(0x7d)][_0x4ba2d1(0xc8)](app[_0x4ba2d1(0xa5)]),'bot':await this[_0x4ba2d1(0x7d)][_0x4ba2d1(0xc8)](app[_0x4ba2d1(0xbd)]),'platform':_0x136e68,'from_bot_menu':!![],'url':app[_0x4ba2d1(0x8e)]})),_0x547cd5=_0x56d2e4[_0x4ba2d1(0x85)],_0x3af3a0=_0x547cd5[_0x4ba2d1(0x79)]('#',0x2)[0x1],_0x5b1522=parser[_0x4ba2d1(0xe2)](decodeURIComponent(this.#clean_tg_web_data(_0x3af3a0))),_0x59b31a={'init_data':''+parser[_0x4ba2d1(0xc3)](_0x5b1522),'invite_code':_0x4ba2d1(0xc6),'is_bot':![]};return _0x59b31a;}catch(_0x17bd1c){logger[_0x4ba2d1(0xd0)](this[_0x4ba2d1(0xbc)]+'\x20|\x20❗️Unknown\x20error\x20during\x20Authorization:\x20'+_0x17bd1c);throw _0x17bd1c;}finally{await sleep(0x1),logger['info'](this[_0x4ba2d1(0xbc)]+_0x4ba2d1(0xae));}}async #get_access_token(_0x3162b8,_0x19658e){const _0x540f7d=a0_0x30c58a;try{const _0xa62cc9=await _0x19658e[_0x540f7d(0x6c)](this[_0x540f7d(0xef)]+_0x540f7d(0xee),JSON['stringify'](_0x3162b8));return _0xa62cc9[_0x540f7d(0x89)];}catch(_0x534fbc){logger['error'](this[_0x540f7d(0xbc)]+_0x540f7d(0x95)+_0x534fbc),await sleep(0x3);}}async #check_proxy(_0x496538,_0x4ee3a4){const _0x23b631=a0_0x30c58a;try{_0x496538[_0x23b631(0x96)][_0x23b631(0xcd)]['host']=_0x23b631(0xc4);const _0x2887ec=await _0x496538[_0x23b631(0x6f)]('https://httpbin.org/ip'),_0x39ecc5=_0x2887ec[_0x23b631(0x89)]['origin'];logger[_0x23b631(0xf1)](this[_0x23b631(0xbc)]+_0x23b631(0x6a)+_0x39ecc5);}catch(_0x36bb58){return _0x36bb58[_0x23b631(0x80)][_0x23b631(0x7c)](_0x23b631(0xa6))||_0x36bb58['message'][_0x23b631(0x7c)](_0x23b631(0x82))||_0x36bb58[_0x23b631(0x80)][_0x23b631(0x7c)](_0x23b631(0x8c))?(logger[_0x23b631(0xd0)](this[_0x23b631(0xbc)]+_0x23b631(0xde)+_0x4ee3a4['ip']+':'+_0x4ee3a4['port']+'\x20could\x20not\x20be\x20found.\x20Please\x20check\x20the\x20proxy\x20address\x20and\x20your\x20network\x20connection.'),logger['error'](this[_0x23b631(0xbc)]+'\x20|\x20No\x20proxy\x20will\x20be\x20used.')):logger[_0x23b631(0xd0)](this[_0x23b631(0xbc)]+'\x20|\x20Proxy:\x20'+_0x4ee3a4['ip']+':'+_0x4ee3a4[_0x23b631(0xa0)]+_0x23b631(0x93)+_0x36bb58[_0x23b631(0x80)]),![];}}async['run'](_0xf11373){const _0x21bc6d=a0_0x30c58a;let _0x3ceb8a,_0x4707a0=0x0,_0x290153,_0x30a8c7=0x0;if(settings[_0x21bc6d(0x8a)]&&_0xf11373){_0x3ceb8a=axios[_0x21bc6d(0xab)]({'httpsAgent':this.#proxy_agent(_0xf11373),'headers':this['headers'],'withCredentials':!![]});const _0x532f91=await this.#check_proxy(_0x3ceb8a,_0xf11373);!_0x532f91&&(_0x3ceb8a=axios[_0x21bc6d(0xab)]({'headers':this[_0x21bc6d(0xcd)],'withCredentials':!![]}));}else _0x3ceb8a=axios[_0x21bc6d(0xab)]({'headers':this['headers'],'withCredentials':!![]});while(!![]){try{const _0xf54873=_[_0x21bc6d(0x74)](Date[_0x21bc6d(0xac)]()/0x3e8);if(_0xf54873-_0x4707a0>=0xe10){_0x3ceb8a[_0x21bc6d(0x96)]['headers'][_0x21bc6d(0x81)]=app[_0x21bc6d(0x81)];const _0x2ce873=await this.#get_tg_web_data(),_0x13f1d2=await this.#get_access_token(_0x2ce873,_0x3ceb8a);_0x3ceb8a['defaults'][_0x21bc6d(0xcd)]['authorization']=''+_0x13f1d2?.['data']?.[_0x21bc6d(0xed)],_0x4707a0=_0xf54873,await sleep(0x2);}_0x290153=await this['api'][_0x21bc6d(0xcb)](_0x3ceb8a);if(_['isEmpty'](_0x290153?.[_0x21bc6d(0x89)]))continue;await sleep(0x3);if(settings['AUTO_CLAIM_DAILY_REWARD']&&_0x30a8c7<_0xf54873){const _0xc0a8cc=await this[_0x21bc6d(0x75)]['claim_daily_reward'](_0x3ceb8a);_0xc0a8cc?.['status']==0x0?(logger[_0x21bc6d(0xf1)](this['session_name']+_0x21bc6d(0xc7)+_0xc0a8cc?.[_0x21bc6d(0x89)]?.[_0x21bc6d(0x91)]+_0x21bc6d(0xdc)+_0xc0a8cc?.['data']?.[_0x21bc6d(0xdf)]),_0x30a8c7=_[_0x21bc6d(0x74)](new Date(moment()[_0x21bc6d(0x84)](0x1,'days')['format']('YYYY-MM-DD'))[_0x21bc6d(0xaf)]()/0x3e8)):(logger['warning'](this[_0x21bc6d(0xbc)]+_0x21bc6d(0xf4)+_0xc0a8cc?.['message']),_0x30a8c7=_[_0x21bc6d(0x74)](new Date(moment()[_0x21bc6d(0x84)](0x1,'days')[_0x21bc6d(0xe1)](_0x21bc6d(0xa9)))[_0x21bc6d(0xaf)]()/0x3e8));}await sleep(0x3);if(settings[_0x21bc6d(0x7f)]){const _0x173232={'game_id':'53b22103-c7ff-413d-bc63-20f6fb806a07'};let _0x3caffb=await this[_0x21bc6d(0x75)][_0x21bc6d(0xbf)](_0x3ceb8a,_0x173232);if(_0x3caffb?.['status']==0x0&&_['isEmpty'](_0x3caffb?.['data'])){const _0x259c4a=await this[_0x21bc6d(0x75)][_0x21bc6d(0xe0)](_0x3ceb8a,_0x173232);_0x259c4a?.['status']==0x0&&!_[_0x21bc6d(0xa4)](_0x259c4a?.['data'])?(_0x3caffb=await this[_0x21bc6d(0x75)]['get_farm_info'](_0x3ceb8a,_0x173232),logger[_0x21bc6d(0xf1)](this[_0x21bc6d(0xbc)]+_0x21bc6d(0x9f)+moment(_0x259c4a?.[_0x21bc6d(0x89)]?.[_0x21bc6d(0xc5)]*0x3e8)[_0x21bc6d(0xb3)](!![]))):logger[_0x21bc6d(0xd9)](this['session_name']+_0x21bc6d(0xe7)+_0x259c4a?.[_0x21bc6d(0x80)]);}else{if(_0x3caffb?.['status']==0x0&&!_['isEmpty'](_0x3caffb?.['data'])){_0x3caffb=await this[_0x21bc6d(0x75)][_0x21bc6d(0xbf)](_0x3ceb8a,_0x173232);if(_0x3caffb?.[_0x21bc6d(0x89)]?.[_0x21bc6d(0xc5)]<=_0xf54873){const _0xe078df=await this[_0x21bc6d(0x75)][_0x21bc6d(0xda)](_0x3ceb8a,_0x173232);_0xe078df?.[_0x21bc6d(0xd5)]==0x0?(_0x290153=await this[_0x21bc6d(0x75)][_0x21bc6d(0xcb)](_0x3ceb8a),await this[_0x21bc6d(0x75)][_0x21bc6d(0xe0)](_0x3ceb8a,_0x173232),logger['info'](this[_0x21bc6d(0xbc)]+_0x21bc6d(0xe6)+_0x290153?.[_0x21bc6d(0x89)]?.[_0x21bc6d(0xad)]+_0x21bc6d(0x87)+_0xe078df?.[_0x21bc6d(0x89)]?.['points']+_0x21bc6d(0xeb)+_0xe078df?.['data']?.['today_game'])):logger['warning'](this[_0x21bc6d(0xbc)]+'\x20|\x20⚠️\x20Error\x20while\x20claiming\x20farm\x20reward:\x20'+_0xe078df?.['message']);}else logger[_0x21bc6d(0xf1)](this['session_name']+_0x21bc6d(0x6b)+moment(_0x3caffb?.[_0x21bc6d(0x89)]?.[_0x21bc6d(0xc5)]*0x3e8)['fromNow'](!![]));}else logger[_0x21bc6d(0xd9)](this[_0x21bc6d(0xbc)]+_0x21bc6d(0xdb)+_0x3caffb?.[_0x21bc6d(0x80)]);}}await sleep(0x3);if(_0x290153?.[_0x21bc6d(0x89)]?.[_0x21bc6d(0xd8)]>0x0&&settings[_0x21bc6d(0xca)]){const _0x3e288a={'game_id':_0x21bc6d(0x94)},_0x3f91e6=await this[_0x21bc6d(0x75)][_0x21bc6d(0x6d)](_0x3ceb8a,_0x3e288a);if(_0x3f91e6?.['status']==0x0&&!_[_0x21bc6d(0xa4)](_0x3f91e6?.['data'])){logger[_0x21bc6d(0xf1)](this['session_name']+_0x21bc6d(0xd6)+(_0x3f91e6?.[_0x21bc6d(0x89)]?.[_0x21bc6d(0xc5)]-_0x3f91e6?.[_0x21bc6d(0x89)]?.['start_at'])+_0x21bc6d(0xce));const _0x1b34d5=_0x3f91e6?.[_0x21bc6d(0x89)]?.[_0x21bc6d(0xc5)]-_0x3f91e6?.[_0x21bc6d(0x89)]?.['start_at'];await sleep(_0x1b34d5);const _0x251777=_[_0x21bc6d(0x8d)](0x12c,0x190),_0x298aa2={'game_id':_0x21bc6d(0x94),'points':_0x251777},_0x4eb02f=await this[_0x21bc6d(0x75)][_0x21bc6d(0x8f)](_0x3ceb8a,_0x298aa2);_0x4eb02f?.[_0x21bc6d(0xd5)]==0x0&&!_['isEmpty'](_0x4eb02f?.[_0x21bc6d(0x89)])?(_0x290153=await this['api'][_0x21bc6d(0xcb)](_0x3ceb8a),logger[_0x21bc6d(0xf1)](this[_0x21bc6d(0xbc)]+_0x21bc6d(0x8b)+_0x290153?.['data']?.[_0x21bc6d(0xad)]+_0x21bc6d(0x92)+_0x4eb02f?.[_0x21bc6d(0x89)]?.[_0x21bc6d(0xb7)]+_0x21bc6d(0xbb)+_0x290153?.[_0x21bc6d(0x89)]?.[_0x21bc6d(0xd8)]+_0x21bc6d(0xc2))):logger[_0x21bc6d(0xd0)](this['session_name']+_0x21bc6d(0xcc)+_0x4eb02f?.['message']);}else logger[_0x21bc6d(0xd0)](this[_0x21bc6d(0xbc)]+_0x21bc6d(0xb1)+_0x3f91e6?.[_0x21bc6d(0x80)]);await sleep(0x3);}}catch(_0x33e226){logger[_0x21bc6d(0xd0)](this[_0x21bc6d(0xbc)]+_0x21bc6d(0xf3)+_0x33e226);}finally{logger['info'](this[_0x21bc6d(0xbc)]+_0x21bc6d(0xd2)+settings[_0x21bc6d(0xb0)]+_0x21bc6d(0xe3)),await sleep(settings[_0x21bc6d(0xb0)]);}}}}function a0_0xfae1(){const _0x7c0d05=['bot','session_user_agents.json','get_farm_info','://','test','</ye>','toQueryString','httpbin.org','end_at','00003Ozq','\x20|\x20🎉\x20Claimed\x20daily\x20reward\x20|\x20Points:\x20','getInputEntity','socksType','AUTO_PLAY_GAME','get_user_data','\x20|\x20Error\x20while\x20<b>claiming\x20game\x20reward:</b>:\x20','headers','\x20seconds','17164zUNjzx','error','android','\x20|\x20😴\x20Sleeping\x20for\x20','ios','freddy_bot','status','\x20|\x20🎲\x20Game\x20started\x20|\x20Duration:\x20','TOIY_g','play_passes','warning','claim_farming_reward','\x20|\x20⚠️\x20Error\x20while\x20getting\x20farm\x20info:\x20','\x20|\x20Play\x20Passes:\x20','53b22103-c7ff-413d-bc63-20f6fb806a07','\x20|\x20Error:\x20Unable\x20to\x20resolve\x20the\x20proxy\x20address.\x20The\x20proxy\x20server\x20at\x20','today_game','start_farming','format','toJson','\x20seconds...','682121EqOIhf','../utils/sleep','\x20|\x20🌱\x20Claimed\x20farm\x20reward\x20|\x20Balance:\x20<la>','\x20|\x20⚠️\x20Error\x20while\x20starting\x20farming:\x20','channels','4277580zUiVtT','MVOH_dly',')</gr>\x20|\x20Play\x20Passes:\x20','27gVwlUu','access_token','/tomarket-game/v1/user/login','API_URL','\x20|\x20Proxy\x20agent\x20error:\x20','info','axios','\x20|\x20❗️Unknown\x20error:\x20','\x20|\x20⚠️\x20Error\x20while\x20claiming\x20daily\x20reward:\x20','\x20|\x20Proxy\x20IP:\x20','\x20|\x20🌱\x20Farming\x20is\x20in\x20progress\x20|\x20Time\x20left:\x20','post','start_game','freddy_bots','get','messages','session_user_agents','21OrJtuQ','./header','floor','api','readFileSync','fa873d13-d831-4d6f-8aee-9cff7a1d0db1','../config/userAgents','split','replace','ENOENT','includes','tg_client','10Qxsgxj','AUTO_FARM','message','host','getaddrinfo','../config/config','add','url','./api','</la>\x20<gr>(+','socks','data','USE_PROXY_FROM_FILE','\x20|\x20🎉\x20Game\x20reward\x20claimed\x20|\x20Balance:\x20<la>','ECONNREFUSED','random','webviewUrl','claim_game_reward','14371PYtSAJ','today_points','</la>\x20(<gr>+','\x20|\x20Error:\x20','59bcd12e-04e2-404c-a172-311a0084587d','\x20|\x20❗️Unknown\x20error\x20while\x20getting\x20Access\x20Token:\x20','defaults','685mIKQKH','invoke','\x20|\x20Generating\x20new\x20user\x20agent...','apiUrl','1662uGxURO','390303GwimWx','Unknown','length','\x20|\x20🌱\x20Farming\x20started\x20|\x20Duration:\x20','port','RequestWebView','username','../utils/logger','isEmpty','peer','ENOTFOUND','801256sZxUBs','JoinChannel','YYYY-MM-DD','start','create','now','available_balance','\x20|\x20🚀\x20Starting\x20session...','getTime','SLEEP_BETWEEN_TAP','\x20|\x20Error\x20while\x20<b>playing\x20game:</b>:\x20','moment','fromNow','../utils/parser','JUOY_f','password','points','79558YYbWuc','\x0aProxy:\x20','stringify','</gr>)\x20|\x20Available:\x20Play\x20Passes\x20<ye>','session_name'];a0_0xfae1=function(){return _0x7c0d05;};return a0_0xfae1();}module['exports']=Tapper;